# 03. Система меритов

> Основная «валюта» платформы: эмиссия, получение, использование.

---

## Общие правила

### Характеристики меритов
- Исчисляются в числах, могут иметь дробную часть (1 мерит, 1.5 мерита)
- Специфичны для сообщества: в каждом сообществе свои мериты
- **Исключение:** во всех глобальных сообществах используется единый мерит (мета-сообщество Meriter)
- Каждый пользователь индивидуально накапливает и тратит свои мериты

### Два типа счёта

| Тип | Описание | Сгорает? | Для fee? |
|-----|----------|----------|----------|
| **Wallet (кошелёк)** | Накопленные мериты | Нет | Да |
| **Quota (квота)** | Ежедневные сгораемые мериты | Да, излишки сгорают | Нет |

### Приоритет использования
Если для действия могут быть использованы и мериты, и квота:
1. Сперва расходуется **квота**
2. Затем **wallet**

---

## Получение меритов

### Способы получения

| Способ | Источник | Тип эмиссии |
|--------|----------|-------------|
| Тапалка | За 10 сравнений = 1 мерит | Эмиссия системы |
| Приветственные мериты | При регистрации | Эмиссия системы |
| От администрации | Прямое начисление | Ручная эмиссия |
| С постов | Положительные комментарии от других пользователей | Перевод от пользователя |
| Ежедневная квота | Автоматическое начисление (если включено) | Эмиссия системы |

### Стартовые мериты
При регистрации пользователь получает **100 глобальных меритов** на счёт.

### Получение меритов с постов
1. Другие пользователи оставляют положительные комментарии под постами
2. Мериты переводятся с их кошельков на рейтинг поста
3. Автор поста может в любой момент **снять** заработанные мериты на свой кошелёк
4. При снятии рейтинг поста уменьшается

---

## Использование меритов

### Системные fee (мериты сгорают)

| Действие | Стоимость | Из чего платится |
|----------|-----------|------------------|
| Публикация поста | 1 мерит (настраивается) | Глобальные мериты |
| Комментарий | 0.1 мерита (настраивается) | Глобальные мериты |
| Участие в опросе | Настраивается сообществом | Глобальные мериты |

### Голосование за контент

| Действие | Эффект | Из чего платится |
|----------|--------|------------------|
| Позитивный комментарий | Рейтинг поста растёт | Квота (приоритет) → Wallet |
| Негативный комментарий | Рейтинг поста падает | Только Wallet |
| Голосование за свой пост | Рейтинг растёт (если разрешено) | Только Wallet |
| Голосование в опросе | Вес голоса = количество меритов | Мериты сообщества |

### Правила голосования

**За чужие посты:**
- Сначала квота, потом wallet (upvote)
- Только wallet (downvote)

**За свои посты:**
- Только wallet (если разрешено настройками сообщества)
- Квотой голосовать за свои посты нельзя

**За посты тиммейтов (участников общих локальных сообществ):**
- По умолчанию: меритами можно всё, квотой только за чужих (не из своих локальных)
- Настраивается для каждого сообщества

---

## Квота

### Правила квоты
- Начисляется ежедневно в объёме, установленном в настройках сообщества
- Количество баллов квоты **не может превышать** объём одного начисления — излишки сгорают
- Используется так же, как обычные мериты, но с ограничениями
- **НЕ используется** для оплаты системных fee

### Ограничения квоты
- Нельзя голосовать квотой за свои посты
- Нельзя оплачивать квотой fee за публикации и комментарии
- Нельзя использовать для downvote

---

## Минусовой рейтинг поста

### Что происходит при отрицательном рейтинге

**Сценарий:**
1. Пользователь публикует пост
2. Другие пользователи голосуют против (негативные комментарии)
3. Рейтинг поста уходит в минус

**Последствия:**
- Через **24 часа** минусовой баланс **списывается с кошелька автора**
- Автор должен успеть закрыть пост до этого, чтобы избежать списания
- При закрытии пост уходит в архив профиля

### Защита от минуса
- Автор может закрыть пост и снять с него все мериты до истечения 24 часов
- Закрытый пост хранится в архиве профиля
- Закрытый пост **нельзя выложить повторно**

---

## Рейты (множители)

### Как работают рейты
Множители меняют соотношение «мерит от пользователя» → «мерит на посте».

**Примеры:**
- х2: 1 мерит от пользователя = 2 мерита на посте
- х0.1: 1 мерит от пользователя = 0.1 мерита на посте
- х10: 1 мерит от пользователя = 10 меритов на посте

### Применение рейтов
- Настраиваются суперадмином для глобальных сообществ
- Отображаются в UI как «х2», «х10», «х0.1» и т.д.
- Планируется использовать для дифференциации контента:
  - Добрые дела (МД): повышенный множитель (х2-х5)
  - Развлекательный контент: пониженный множитель (х0.1)

---

## Будущие фичи (v2.0+)

### Инвестирование в посты
Пользователи смогут инвестировать мериты в чужие посты, получая процент от собранных меритов.

*Требует серьёзной проработки бизнес-логики.*

### Разделение меритов команды
Возможность разделить заработанные постом мериты между участниками команды (при полноценном появлении проектов).
