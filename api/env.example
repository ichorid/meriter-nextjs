# ========================================
# Application Configuration
# ========================================

# Port for the NestJS application
# Default: 8002
# PORT=8002

# Domain name for cookie domain and application URL derivation
# The full application URL (e.g., https://meriter.pro) is automatically derived from this
# Application URL is derived as: https://{DOMAIN} (or http:// for localhost)
# Cookie domain is set to DOMAIN directly (undefined for localhost)
# Use localhost for local development
# For production: set to your domain (e.g., meriter.pro)
# This is typically set in the root .env file and passed to the API service
DOMAIN=meriter.pro

# ========================================
# Security Configuration (SENSITIVE)
# ========================================

# JWT Secret for token signing and verification (REQUIRED in production)
# SECURITY WARNING: This is a CRITICAL security credential
# - Use a strong, randomly generated secret (minimum 32 characters)
# - Never commit actual secrets to version control
# - Rotate regularly in production
# - Store in secure secret management system or Docker secrets
# - If compromised, all user sessions will be invalidated
# Generate a secure secret: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production


# ========================================
# MongoDB Connection Configuration
# ========================================

# Primary MongoDB connection
# SECURITY WARNING: In production, use authenticated connection with credentials
# Format: mongodb://username:password@host:port/database?authSource=database
# For Docker: mongodb://meriter_user:PASSWORD@mongodb:27017/meriter?authSource=meriter
# Default: mongodb://127.0.0.1:27017/meriter (NO AUTH - DEVELOPMENT ONLY)
# 
# IMPORTANT: Never commit actual passwords to version control
# Use Docker secrets or environment variables from secure secret management
MONGO_URL=mongodb://127.0.0.1:27017/meriter

# MongoDB application user password (for Docker secrets)
# This should match the password in secrets/mongo_app_password.txt
# SECURITY: This is a sensitive value - never commit to version control
# MONGO_APP_PASSWORD=your-strong-password-here


# ========================================
# Telegram Bot Configuration (REQUIRED)
# ========================================

# Bot token for Telegram API (REQUIRED - get from @BotFather)
# SECURITY WARNING: This is a sensitive credential - never commit to version control
# Used for:
# - Bot community features (publications, hashtags, group management)
# - Telegram Web Auth verification (hash validation)
# Store in secure secret management system or Docker secrets
BOT_TOKEN=

# Bot username (without @) (REQUIRED)
# Used for Telegram Login Widget on the web frontend
BOT_USERNAME=meriter_pro_bot

# Telegram API URL (defaults to official API)
# TELEGRAM_API_URL=https://api.telegram.org


# ========================================
# Special Chat IDs
# ========================================

# Banned chat ID (messages from this chat are ignored)
# BANNED_CHAT_ID=-1001765280630


# ========================================
# S3/Object Storage Configuration (OPTIONAL)
# ========================================

# S3-compatible storage credentials for Telegram avatar caching
# If not set, avatar/image upload features will be disabled
# Service: Mail.ru Cloud S3, AWS S3, MinIO, or any S3-compatible storage
#
# SECURITY WARNING: S3 credentials are sensitive
# - Never commit actual credentials to version control
# - Use IAM roles when possible (AWS)
# - Rotate access keys regularly
# - Store in secure secret management system

# S3_BUCKET_NAME=telegram
# S3_ACCESS_KEY_ID=your_access_key
# S3_SECRET_ACCESS_KEY=your_secret_key
# S3_ENDPOINT=https://hb.bizmrg.com
# S3_REGION=ru-msk
# S3_BUCKET_NAME is required when S3_ENDPOINT is set.


# ========================================
# Test Mode Flags (used in Jest tests)
# ========================================

# Disable external API calls in tests
# noAxios=true

# Mock admin privileges in tests
# admin=true


# ========================================
# Development Mode Flags
# ========================================

# Enable fake data mode for local development (bypasses Telegram authentication)
# Set to 'true' to enable fake authentication and data generation
# WARNING: Only enable in local development, never in production
FAKE_DATA_MODE=false

