# Meriter Web Frontend Environment Configuration
# Copy this file to .env and fill in the actual values

# ==============================================================================
# APPLICATION CONFIGURATION
# ==============================================================================
# Application environment (development, production, test)
NODE_ENV=development

# Domain name for server-side cookie domain (backend API)
# On the client-side, domain is automatically detected at runtime from window.location.hostname
# This allows one build to work across multiple environments (dev, stage, prod)
# 
# Set DOMAIN in root .env file for the backend API:
# - For localhost development: DOMAIN=localhost
# - For production: DOMAIN=meriter.pro (or dev.meriter.pro, stage.meriter.pro, etc.)
# 
# Client-side (browser) automatically uses window.location.hostname for:
# - Cookie domain scoping (exact domain, no subdomain sharing)
# - Application URL derivation
# 
# No NEXT_PUBLIC_DOMAIN needed - runtime detection handles it!

# ==============================================================================
# API CONFIGURATION
# ==============================================================================
# Backend API URL (NestJS server)
# For development with Caddy: http://localhost:8080/api
# For development without Caddy: http://localhost:8002
NEXT_PUBLIC_API_URL=http://localhost:8002

# ==============================================================================
# TELEGRAM CONFIGURATION
# ==============================================================================
# Enable Telegram authentication (widget and Web App auth)
# Set to 'true' to enable Telegram OAuth authentication on the frontend
# Default: false (disabled)
# When disabled, Telegram login option will not appear in the login form
OAUTH_TELEGRAM_ENABLED=false

# Bot username without @ (OPTIONAL - only needed if Telegram features are enabled)
# Used by Telegram Login Widget on the web frontend
# This is read at runtime from the backend API endpoint /api/v1/config
BOT_USERNAME=meriterbot

# Bot token from @BotFather (OPTIONAL - only needed if Telegram features are enabled)
# SECURITY WARNING: This is a sensitive credential - never commit to version control
# Used for: community features, Telegram Web Auth verification
# Store in secure secret management system or Docker secrets
BOT_TOKEN=your_telegram_bot_token_from_botfather

# Telegram API URL (defaults to official API)
NEXT_PUBLIC_TELEGRAM_API_URL=https://api.telegram.org

# ==============================================================================
# S3/OBJECT STORAGE CONFIGURATION (OPTIONAL)
# ==============================================================================
# S3-compatible storage credentials for Telegram avatar caching
# If not set, avatar/image upload features will be disabled
# Service: Mail.ru Cloud S3, AWS S3, MinIO, or any S3-compatible storage
#
# SECURITY WARNING: S3 credentials are sensitive
# - Never commit actual credentials to version control
# - Use IAM roles when possible (AWS)
# - Rotate access keys regularly
# - Store in secure secret management system

# S3 credentials (if left empty, S3 features are disabled and avatars fall back to placeholders)
S3_BUCKET_NAME=your_bucket
S3_ACCESS_KEY_ID=your_access_key
S3_SECRET_ACCESS_KEY=your_secret_key
# Base URL for the S3-compatible endpoint (used for Telegram avatars)
S3_ENDPOINT=
# Required when S3_ENDPOINT is set. Leave empty when S3 is disabled.
S3_REGION=
# S3_BUCKET_NAME is required when S3_ENDPOINT is set.

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================
# Enable analytics (set to 'true' to enable)
NEXT_PUBLIC_ENABLE_ANALYTICS=false

# Enable debug mode (set to 'true' to enable)
NEXT_PUBLIC_ENABLE_DEBUG=false

# Enable comment voting (set to 'true' to enable)
# When disabled, users can only vote on posts/publications, not on comments
NEXT_PUBLIC_ENABLE_COMMENT_VOTING=false

# Enable image uploads in votes and comments (set to 'true' to enable)
# When disabled, users cannot attach images to votes or comments
# Default: false (image uploads disabled)
NEXT_PUBLIC_ENABLE_COMMENT_IMAGE_UPLOADS=false

# ==============================================================================
# DEVELOPMENT CONFIGURATION
# ==============================================================================
# These settings are typically only used in development
# and are automatically handled by the configuration system

# Enable fake data mode for local development (bypasses Telegram login)
# Set to 'true' to enable fake authentication and data generation
# WARNING: Only enable in local development, never in production
NEXT_PUBLIC_FAKE_DATA_MODE=false

# For development with Caddy proxy:
# NEXT_PUBLIC_API_URL=http://localhost:8080/api

# For development without proxy (direct CORS):
# NEXT_PUBLIC_API_URL=http://localhost:8002

# ==============================================================================
# SENTRY CONFIGURATION
# ==============================================================================
# Sentry DSN (Data Source Name) for error tracking and performance monitoring
# Get this from your Sentry project settings
# If not set, Sentry will be disabled (optional)
NEXT_PUBLIC_SENTRY_DSN=

# Sentry environment (development, staging, production)
# Defaults to NODE_ENV if not set
NEXT_PUBLIC_SENTRY_ENVIRONMENT=development

# Sentry performance monitoring sample rate (0.0 to 1.0)
# 1.0 = 100% of transactions are sampled
# Adjust based on traffic volume (lower for high-traffic production)
NEXT_PUBLIC_SENTRY_TRACES_SAMPLE_RATE=1.0

# Sentry organization and project (for source maps upload)
# These are optional and only needed if you want to upload source maps
# SENTRY_ORG=your-org
# SENTRY_PROJECT=your-project